<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TikTok - Get Coins</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            tiktok: {
              primary: '#000000',
              secondary: '#262626',
              accent: '#FE2C55', // TikTok Red
              light: '#F7F7F7',
              gray: '#E5E5E5',
              'gray-dark': '#999999',
              'gray-light': '#F2F2F2',
              'coin-yellow': '#FFD700'
            },
            loading: {
              blue: '#165DFF'
            }
          },
          fontFamily: {
            sans: ['Inter', 'Helvetica', 'Arial', 'sans-serif']
          },
        }
      }
    }
  </script>
  
  <style>
    /* Base Styles */
    body {
      font-family: 'Inter', Helvetica, Arial, sans-serif;
      background-color: #FAFAFA;
    }

    /* Slide-up/down transition for the custom panel */
    #custom-coin-panel {
        transition: transform 0.3s ease-in-out;
    }
    
    /* Active state for the recharge button */
    .recharge-button.active {
        background-color: #FE2C55; /* TikTok Red */
        cursor: pointer;
    }
    
    /* Inactive state for the recharge button */
    .recharge-button {
        background-color: #fddde4; /* Light Pink */
        cursor: not-allowed;
    }
  </style>
</head>

<body class="text-tiktok-primary bg-[#FAFAFA] min-h-screen">

  <main class="container mx-auto px-4 py-6 max-w-md">
    <div class="bg-white rounded-xl p-4 md:p-6">
      <div class="flex-1 min-w-0">
        <div class="mb-4">
            <h2 class="text-xl font-bold text-black mb-1">Recharge</h2>
            <p class="text-sm text-tiktok-accent flex items-center">
                <span>Save around 25% with a lower third-party service fee.</span>
                <i class="fas fa-info-circle ml-2 text-gray-400"></i>
            </p>
        </div>
      
        <div>
            <div class="grid grid-cols-3 gap-3" id="coin-options-grid">
              <div class="coin-option bg-tiktok-accent/10 border-2 border-tiktok-accent rounded-lg p-4 cursor-pointer" data-price="0.29" data-coins="30">
                <div class="flex items-center justify-center mb-1 gap-1">
                  <span class="font-bold">30</span>
                </div>
                <p class="text-center text-sm font-medium">£0.29</p>
              </div>
              <div class="coin-option bg-white border border-gray-200 rounded-lg p-4 cursor-pointer" data-price="3.30" data-coins="350">
                <div class="flex items-center justify-center mb-1 gap-1">
                  <span class="font-bold">350</span>
                </div>
                <p class="text-center text-sm font-medium">£3.30</p>
              </div>
              <div class="coin-option bg-white border border-gray-200 rounded-lg p-4 cursor-pointer" data-price="6.59" data-coins="700">
                <div class="flex items-center justify-center mb-1 gap-1">
                  <span class="font-bold">700</span>
                </div>
                <p class="text-center text-sm font-medium">£6.59</p>
              </div>
              <div class="coin-option bg-white border border-gray-200 rounded-lg p-4 cursor-pointer" data-price="65.85" data-coins="7,000">
                <div class="flex items-center justify-center mb-1 gap-1">
                  <span class="font-bold">7,000</span>
                </div>
                <p class="text-center text-sm font-medium">£65.85</p>
              </div>
              <div class="coin-option bg-white border border-gray-200 rounded-lg p-4 cursor-pointer" data-price="164.55" data-coins="17,500">
                <div class="flex items-center justify-center mb-1 gap-1">
                  <span class="font-bold">17,500</span>
                </div>
                <p class="text-center text-sm font-medium">£164.55</p>
              </div>
              <div id="custom-btn" class="coin-option bg-white border border-gray-200 rounded-lg p-4 cursor-pointer" data-price="0" data-coins="Custom">
                <div class="flex flex-col items-center justify-center h-full">
                  <span class="font-bold text-base">Custom</span>
                </div>
              </div>
            </div>
        </div>
      </div>
    </div>
  </main>
  
  <div id="custom-coin-modal" class="fixed inset-0 bg-black/60 z-50 hidden">
    <div id="custom-coin-panel" class="absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl p-4 transform translate-y-full">
        <div class="flex items-center justify-between mb-4">
            <button id="modal-back-btn" class="text-xl text-gray-600"><i class="fas fa-arrow-left"></i></button>
            <h3 class="text-lg font-bold">Custom</h3>
            <button class="text-xl text-gray-600"><i class="fas fa-question-circle"></i></button>
        </div>

        <div class="mb-4">
            <label class="text-sm font-bold text-gray-700 flex items-center mb-2">Number of Coins <i class="fas fa-chevron-down text-xs ml-1"></i></label>
            <div class="relative">
                <div class="absolute left-3 top-1/2 -translate-y-1/2 flex items-center">
                    <svg class="w-5 h-5" font-size="16px" viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#Icon_Color-Tiktok_Coin_svg__a)"><path d="M48 24a24 24 0 1 1-48 0 24 24 0 0 1 48 0Z" fill="#FFB84D"></path><path d="M47 24a23 23 0 1 1-46 0 23 23 0 0 1 46 0Z" fill="#FFDE55"></path><path d="M42 24a18 18 0 1 1-36 0 18 18 0 0 1 36 0Z" fill="#F7A300"></path><path d="M42 24a18 18 0 1 1-36 0 18 18 0 0 1 36 0Z" fill="#F7A80F"></path><path d="M41.94 25.5a18 18 0 1 0-35.88 0 18 18 0 0 1 35.88 0Z" fill="#E88B00"></path><path d="M41.94 25.5a18 18 0 1 0-35.88 0 18 18 0 0 1 35.88 0Z" fill="#F09207"></path><path d="M34.74 17.77v5.86c-2.06 0-4.05-.44-5.81-1.55v7.2a7.79 7.79 0 0 1-7.84 7.75 7.79 7.79 0 0 1-7.8-8.35 7.79 7.79 0 0 1 9.19-8.24v6c-.47-.13-.9-.26-1.39-.26a3.14 3.14 0 0 0-3.09 2.5 3.14 3.14 0 0 0 3.1 2.5c1.74 0 3.14-1.4 3.14-3.11V12.03h4.69a5.6 5.6 0 0 0 5.81 5.74Z" fill="#F09207"></path><path d="M34.34 18.18a5.78 5.78 0 0 1-5.82-5.74h-3.87v15.63c0 1.94-1.6 3.5-3.56 3.5a3.53 3.53 0 0 1-3.55-3.5 3.53 3.53 0 0 1 4.52-3.38v-3.9a7.38 7.38 0 0 0-8.4 7.28 7.38 7.38 0 0 0 7.43 7.34c4.1 0 7.43-3.29 7.43-7.34v-7.98a9.73 9.73 0 0 0 5.82 1.92v-3.83Z" fill="#fff"></path></g><defs><clipPath id="Icon_Color-Tiktok_Coin_svg__a"><path fill="#fff" d="M0 0h48v48H0z"></path></clipPath></defs></svg>
                    <div id="cursor-line" class="w-0.5 h-5 bg-red-500 ml-1"></div>
                </div>
                <input type="text" id="custom-amount-input" readonly class="w-full bg-gray-100 rounded-lg py-3 pl-10 pr-4 text-gray-400 text-lg" placeholder="30 - 2,500,000">
            </div>
        </div>

        <div class="text-sm text-gray-500 mb-4 flex items-center">
            Recently picked
            <svg class="w-4 h-4 mx-1" font-size="16px" viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#Icon_Color-Tiktok_Coin_svg__a)"><path d="M48 24a24 24 0 1 1-48 0 24 24 0 0 1 48 0Z" fill="#FFB84D"></path><path d="M47 24a23 23 0 1 1-46 0 23 23 0 0 1 46 0Z" fill="#FFDE55"></path><path d="M42 24a18 18 0 1 1-36 0 18 18 0 0 1 36 0Z" fill="#F7A300"></path><path d="M42 24a18 18 0 1 1-36 0 18 18 0 0 1 36 0Z" fill="#F7A80F"></path><path d="M41.94 25.5a18 18 0 1 0-35.88 0 18 18 0 0 1 35.88 0Z" fill="#E88B00"></path><path d="M41.94 25.5a18 18 0 1 0-35.88 0 18 18 0 0 1 35.88 0Z" fill="#F09207"></path><path d="M34.74 17.77v5.86c-2.06 0-4.05-.44-5.81-1.55v7.2a7.79 7.79 0 0 1-7.84 7.75 7.79 7.79 0 0 1-7.8-8.35 7.79 7.79 0 0 1 9.19-8.24v6c-.47-.13-.9-.26-1.39-.26a3.14 3.14 0 0 0-3.09 2.5 3.14 3.14 0 0 0 3.1 2.5c1.74 0 3.14-1.4 3.14-3.11V12.03h4.69a5.6 5.6 0 0 0 5.81 5.74Z" fill="#F09207"></path><path d="M34.34 18.18a5.78 5.78 0 0 1-5.82-5.74h-3.87v15.63c0 1.94-1.6 3.5-3.56 3.5a3.53 3.53 0 0 1-3.55-3.5 3.53 3.53 0 0 1 4.52-3.38v-3.9a7.38 7.38 0 0 0-8.4 7.28 7.38 7.38 0 0 0 7.43 7.34c4.1 0 7.43-3.29 7.43-7.34v-7.98a9.73 9.73 0 0 0 5.82 1.92v-3.83Z" fill="#fff"></path></g><defs><clipPath id="Icon_Color-Tiktok_Coin_svg__a"><path fill="#fff" d="M0 0h48v48H0z"></path></clipPath></defs></svg>
            <span>30</span>
        </div>

        <div id="keypad" class="grid grid-cols-4 gap-3 text-center mb-4">
            <button data-key="1" class="bg-gray-100 rounded-lg py-3 text-xl font-semibold active:bg-gray-200">1</button>
            <button data-key="2" class="bg-gray-100 rounded-lg py-3 text-xl font-semibold active:bg-gray-200">2</button>
            <button data-key="3" class="bg-gray-100 rounded-lg py-3 text-xl font-semibold active:bg-gray-200">3</button>
            <button data-key="backspace" class="bg-gray-100 rounded-lg py-3 text-xl active:bg-gray-200"><i class="fas fa-backspace"></i></button>
            <button data-key="4" class="bg-gray-100 rounded-lg py-3 text-xl font-semibold active:bg-gray-200">4</button>
            <button data-key="5" class="bg-gray-100 rounded-lg py-3 text-xl font-semibold active:bg-gray-200">5</button>
            <button data-key="6" class="bg-gray-100 rounded-lg py-3 text-xl font-semibold active:bg-gray-200">6</button>
            <button data-key="000" class="bg-gray-100 rounded-lg py-3 text-xl font-semibold active:bg-gray-200">000</button>
            <button data-key="7" class="bg-gray-100 rounded-lg py-3 text-xl font-semibold active:bg-gray-200">7</button>
            <button data-key="8" class="bg-gray-100 rounded-lg py-3 text-xl font-semibold active:bg-gray-200">8</button>
            <button data-key="9" class="bg-gray-100 rounded-lg py-3 text-xl font-semibold active:bg-gray-200">9</button>
            <button data-key="0" class="bg-gray-100 rounded-lg py-3 text-xl font-semibold active:bg-gray-200">0</button>
        </div>

        <div class="border-t pt-4">
             <div class="flex items-center justify-between text-sm mb-2 cursor-pointer">
                <p class="font-semibold text-gray-700">Special offer</p>
                <div class="flex items-center gap-2">
                    <p class="text-gray-500">Add to home screen to apply</p>
                    <i class="fas fa-chevron-right text-gray-400 text-xs"></i>
                </div>
            </div>
            <div class="flex items-center justify-between font-bold text-lg mb-4">
                <span>Total</span>
                <span id="total-price">£0</span>
            </div>
            <button id="modal-recharge-btn" class="recharge-button w-full text-white font-bold py-3 rounded-full transition flex items-center justify-center">
                <svg class="mr-2" fill="currentColor" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em"><path d="M28.22 13.7a4.83 4.83 0 0 0 4.86 4.8l-.04 3.45c-1.77 0-3.4-.53-4.75-1.43l-.09 6.99a6.64 6.64 0 0 1-6.69 6.3 6.44 6.44 0 0 1-6.53-6.45 6.63 6.63 0 0 1 7.61-6.4l-.04 3.7a2.97 2.97 0 0 0-3.88 2.7 2.85 2.85 0 0 0 2.89 2.85 2.93 2.93 0 0 0 2.96-2.85l.16-13.66h3.54Z"></path><path d="M5 23.15V10.5c0-1.2 1.06-2.17 2.26-2.28 3.05-.25 8.87-1.52 15.34-6.99.8-.67 2-.67 2.8 0 6.46 5.46 12.28 6.74 15.34 7 1.2.1 2.26 1.07 2.26 2.27v12.65c0 14.13-14.77 21.8-18.27 23.43-.47.22-1 .22-1.47 0C19.76 44.96 5 37.28 5 23.15Zm4-11.1v11.1c0 5.57 2.88 10.04 6.56 13.5 3.1 2.91 6.5 4.86 8.44 5.85a37.07 37.07 0 0 0 8.43-5.85C36.11 33.2 39 28.72 39 23.15V12.04c-3.65-.53-9.1-2.16-15-6.8-5.91 4.64-11.35 6.27-15 6.8Z"></path></svg>
                Recharge
            </button>
        </div>
    </div>
  </div>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const customBtn = document.getElementById('custom-btn');
      const customCoinModal = document.getElementById('custom-coin-modal');
      const customCoinPanel = document.getElementById('custom-coin-panel');
      const modalBackBtn = document.getElementById('modal-back-btn');
      const keypad = document.getElementById('keypad');
      const amountInput = document.getElementById('custom-amount-input');
      const totalPriceEl = document.getElementById('total-price');
      const modalRechargeBtn = document.getElementById('modal-recharge-btn');

      // --- Modal Show/Hide Logic ---
      function showModal() {
        customCoinModal.classList.remove('hidden');
        setTimeout(() => {
            customCoinPanel.classList.remove('translate-y-full');
        }, 10);
      }

      function hideModal() {
        customCoinPanel.classList.add('translate-y-full');
        setTimeout(() => {
            customCoinModal.classList.add('hidden');
            amountInput.value = '';
            updateState(); 
        }, 300);
      }

      customBtn.addEventListener('click', showModal);
      modalBackBtn.addEventListener('click', hideModal);
      customCoinModal.addEventListener('click', (e) => {
        if (e.target === customCoinModal) {
            hideModal();
        }
      });


      // --- Keypad Input & State Update Logic ---
      keypad.addEventListener('click', (e) => {
        const key = e.target.closest('button')?.dataset.key;
        if (!key) return;

        let currentValue = amountInput.value;

        if (key === 'backspace') {
            currentValue = currentValue.slice(0, -1);
        } else {
            currentValue += key;
        }
        
        if (currentValue.length > 7) {
            currentValue = currentValue.slice(0, 7);
        }

        amountInput.value = currentValue;
        updateState();
      });
      
      // --- Central function to update UI state ---
      function updateState() {
          const value = amountInput.value;
          const amount = parseInt(value, 10);
          
          if (value) {
              amountInput.classList.remove('text-gray-400');
              amountInput.classList.add('text-black', 'font-semibold');
          } else {
              amountInput.classList.remove('text-black', 'font-semibold');
              amountInput.classList.add('text-gray-400');
          }

          // Price simulation (approx. £0.29 per 30 coins)
          const price = isNaN(amount) ? 0 : (amount / 30) * 0.29;
          totalPriceEl.textContent = `£${price.toFixed(2)}`;

          // Update recharge button state
          if (!isNaN(amount) && amount >= 30 && amount <= 2500000) {
              modalRechargeBtn.classList.add('active');
              modalRechargeBtn.disabled = false;
          } else {
              modalRechargeBtn.classList.remove('active');
              modalRechargeBtn.disabled = true;
          }
      }
    });
  </script>
</body>
</html>
